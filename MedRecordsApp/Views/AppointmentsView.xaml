<UserControl x:Class="MedRecordsApp.Views.AppointmentsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="900">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition Height="2*"/>
    </Grid.RowDefinitions>

    <!-- Operations TabControl -->
    <TabControl Grid.Row="0" Margin="10">
      <!-- Add Tab -->
      <TabItem Header="Add">
        <Grid Margin="20">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <!-- Row 1 -->
          <StackPanel Grid.Row="0" Grid.Column="0" Margin="5">
            <TextBlock Text="Patient:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <ComboBox x:Name="AddPatientComboBox" Padding="5"
                                  DisplayMemberPath="PatientName" SelectedValuePath="PatientID"/>
          </StackPanel>

          <StackPanel Grid.Row="0" Grid.Column="1" Margin="5">
            <TextBlock Text="Doctor:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <ComboBox x:Name="AddDoctorComboBox" Padding="5"
                                  DisplayMemberPath="DoctorName" SelectedValuePath="DoctorID"/>
          </StackPanel>

          <!-- Row 2 -->
          <StackPanel Grid.Row="1" Grid.Column="0" Margin="5">
            <TextBlock Text="Appointment Date:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <DatePicker x:Name="AddAppointmentDatePicker" Padding="5"/>
          </StackPanel>

          <StackPanel Grid.Row="1" Grid.Column="1" Margin="5">
            <TextBlock Text="Reason:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <TextBox x:Name="AddReasonTextBox" Padding="5" />
          </StackPanel>

          <Button x:Name="AddSaveButton" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" 
                            Content="Save" Width="120" Height="35" 
                            HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,20,0,0"
                            Click="AddSaveButton_Click"/>
        </Grid>
      </TabItem>

      <!-- Update Tab -->
      <TabItem Header="Update">
        <Grid Margin="20">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <!-- Row 1 -->
          <StackPanel Grid.Row="0" Grid.Column="0" Margin="5">
            <TextBlock Text="Appointment ID:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <ComboBox x:Name="UpdateAppointmentIDComboBox" Padding="5"
                                  DisplayMemberPath="AppointmentID" SelectedValuePath="AppointmentID"/>
          </StackPanel>

          <StackPanel Grid.Row="0" Grid.Column="1" Margin="5">
            <TextBlock Text="Patient:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <ComboBox x:Name="UpdatePatientComboBox" Padding="5"
                                  DisplayMemberPath="PatientName" SelectedValuePath="PatientID"/>
          </StackPanel>

          <!-- Row 2 -->
          <StackPanel Grid.Row="1" Grid.Column="0" Margin="5">
            <TextBlock Text="Doctor:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <ComboBox x:Name="UpdateDoctorComboBox" Padding="5"
                                  DisplayMemberPath="DoctorName" SelectedValuePath="DoctorID"/>
          </StackPanel>

          <StackPanel Grid.Row="1" Grid.Column="1" Margin="5">
            <TextBlock Text="Appointment Date:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <DatePicker x:Name="UpdateAppointmentDatePicker" Padding="5"/>
          </StackPanel>

          <!-- Row 3 -->
          <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Margin="5">
            <TextBlock Text="Reason:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <TextBox x:Name="UpdateReasonTextBox" Padding="5" />
          </StackPanel>

          <Button x:Name="UpdateSaveButton" Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" 
                            Content="Update" Width="120" Height="35" 
                            HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,20,0,0"
                            Click="UpdateSaveButton_Click"/>
        </Grid>
      </TabItem>

      <!-- Delete Tab -->
      <TabItem Header="Delete">
        <Grid Margin="20">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <StackPanel Grid.Row="0" Grid.Column="0" Margin="5">
            <TextBlock Text="Appointment ID:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <ComboBox x:Name="DeleteAppointmentIDComboBox" Padding="5"
                                  DisplayMemberPath="AppointmentID" SelectedValuePath="AppointmentID"/>
          </StackPanel>

          <Button x:Name="DeleteButton" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" 
                            Content="Delete" Width="120" Height="35" 
                            HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,20,0,0"
                            Click="DeleteButton_Click"/>
        </Grid>
      </TabItem>

      <!-- Search Tab -->
      <TabItem Header="Search">
        <Grid Margin="20">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <StackPanel Grid.Row="0" Grid.Column="0" Margin="5" Grid.ColumnSpan="2">
            <TextBlock Text="Search Term:" HorizontalAlignment="Left" Margin="0,0,0,5"/>
            <TextBox x:Name="SearchTextBox" Padding="5"/>
          </StackPanel>

          <Button x:Name="SearchButton" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" 
                            Content="Search" Width="120" Height="35" 
                            HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,20,0,0"
                            Click="SearchButton_Click"/>
        </Grid>
      </TabItem>
    </TabControl>

    <!-- DataGrid -->
    <DataGrid x:Name="AppointmentsDataGrid" Grid.Row="1" Margin="10"
                  AutoGenerateColumns="False" 
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  SelectionMode="Single"
                  AlternatingRowBackground="#F9F9F9"
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column"
                  SelectionChanged="AppointmentsDataGrid_SelectionChanged">
      <DataGrid.Columns>
        <DataGridTextColumn Header="Appointment ID" Binding="{Binding AppointmentID}" Width="120"/>
        <DataGridTextColumn Header="Patient ID" Binding="{Binding PatientID}" Width="100"/>
        <DataGridTextColumn Header="Doctor ID" Binding="{Binding DoctorID}" Width="100"/>
        <DataGridTextColumn Header="Date" Binding="{Binding AppointmentDate, StringFormat='yyyy-MM-dd'}" Width="120"/>
        <DataGridTextColumn Header="Reason" Binding="{Binding Reason}" Width="*"/>
      </DataGrid.Columns>
    </DataGrid>
  </Grid>
</UserControl>